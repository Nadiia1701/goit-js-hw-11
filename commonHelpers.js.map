{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = \"42569915-bcd29008899db620988a57306\";\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst loader = document.querySelector(\".loader\");\nlet searchQuery = \"\";\n\nexport function fetchData(searchQuery, loader) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: searchQuery,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  });\n    \n  loader.style.display = \"block\";\n\n  return fetch(`${BASE_URL}?${params}`)\n    .then((response) => {\n      if (!response.ok) {\n        throw new Error(\"Network response was not OK!\");\n      }\n      return response.json();\n    })\n    .then((data) => {\n      \n      loader.style.display = \"none\";\n\n      if (data.hits.length === 0) {\n        iziToast.error({\n          fontSize: \"large\",\n          close: false,\n          position: \"topRight\",\n          messageColor: \"white\",\n          timeout: 2000,\n          backgroundColor: \"red\",\n          message: \"Sorry, there are no images matching your search query. Please try again!\",\n        });\n      }\n      return data;\n    })\n    .catch((error) => console.error(\"Error fetching data:\", error));\n}","const container = document.querySelector(\".gallery\");\n\nexport function renderMurcup(data, lightbox) {\n  const murcup = data.hits\n    .map(\n      (element) => `<div class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${element.largeImageURL}\">\n          <img class=\"gallery-image\" src=\"${element.webformatURL}\" alt=\"${element.tags}\">\n      </a>\n      <div class=\"gallery-image-info\">\n          <p class=\"image-info-item\"><span class=\"image-items-text\">Likes: </span>${element.likes}</p>\n          <p class=\"image-info-item\"><span class=\"image-items-text\">Views: </span>${element.views}</p>\n          <p class=\"image-info-item\"><span class=\"image-items-text\">Comments: </span>${element.comments}</p>\n          <p class=\"image-info-item\"><span class=\"image-items-text\">Downloads: </span>${element.downloads}</p>\n      </div>\n  </div>`\n    )\n    .join(\"\");\n\n  container.innerHTML = murcup;\n\n  lightbox.refresh();\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchData } from \"./js/pixabay-api.js\";\nimport { renderMurcup } from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\"#searchForm\");\nconst container = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nconst lightbox = new SimpleLightbox(\".gallery-link\", {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\nform.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  container.innerHTML = \"\";\n  const searchQuery = form.elements.searchQuery.value.trim();\n  console.log(\"Submitting form with query:\", searchQuery);\n  fetchData(searchQuery, loader)\n    .then((data) => {\n      console.log(\"Data fetched successfully:\", data);\n      renderMurcup(data, lightbox); // Передача lightbox\n    })\n    .catch((error) => console.error(\"Error fetching data:\", error));\n}\n"],"names":["API_KEY","BASE_URL","fetchData","searchQuery","loader","params","response","data","error","container","renderMurcup","lightbox","murcup","element","form","SimpleLightbox","onSubmit","event"],"mappings":"svBAAA,MAAMA,EAAU,qCACVC,EAAW,2BACF,SAAS,cAAc,SAAS,EAGxC,SAASC,EAAUC,EAAaC,EAAQ,CAC7C,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKL,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAAC,EAAO,MAAM,QAAU,QAEhB,MAAM,GAAGH,CAAQ,IAAII,CAAM,EAAE,EACjC,KAAMC,GAAa,CAClB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,8BAA8B,EAEhD,OAAOA,EAAS,MACtB,CAAK,EACA,KAAMC,IAELH,EAAO,MAAM,QAAU,OAEnBG,EAAK,KAAK,SAAW,GACvB,SAAS,MAAM,CACb,SAAU,QACV,MAAO,GACP,SAAU,WACV,aAAc,QACd,QAAS,IACT,gBAAiB,MACjB,QAAS,0EACnB,CAAS,EAEIA,EACR,EACA,MAAOC,GAAU,QAAQ,MAAM,uBAAwBA,CAAK,CAAC,CAClE,CCzCA,MAAMC,EAAY,SAAS,cAAc,UAAU,EAE5C,SAASC,EAAaH,EAAMI,EAAU,CAC3C,MAAMC,EAASL,EAAK,KACjB,IACEM,GAAY;AAAA,sCACmBA,EAAQ,aAAa;AAAA,4CACfA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA,oFAGFA,EAAQ,KAAK;AAAA,oFACbA,EAAQ,KAAK;AAAA,uFACVA,EAAQ,QAAQ;AAAA,wFACfA,EAAQ,SAAS;AAAA;AAAA,SAGpG,EACA,KAAK,EAAE,EAEVJ,EAAU,UAAYG,EAEtBD,EAAS,QAAO,CAClB,CCbA,MAAMG,EAAO,SAAS,cAAc,aAAa,EAC3CL,EAAY,SAAS,cAAc,UAAU,EAC7CL,EAAS,SAAS,cAAc,SAAS,EAEzCO,EAAW,IAAII,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,EAEDD,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,SAASA,EAASC,EAAO,CACvBA,EAAM,eAAc,EACpBR,EAAU,UAAY,GACtB,MAAMN,EAAcW,EAAK,SAAS,YAAY,MAAM,OACpD,QAAQ,IAAI,8BAA+BX,CAAW,EACtDD,EAAUC,EAAaC,CAAM,EAC1B,KAAMG,GAAS,CACd,QAAQ,IAAI,6BAA8BA,CAAI,EAC9CG,EAAaH,EAAMI,CAAQ,CACjC,CAAK,EACA,MAAOH,GAAU,QAAQ,MAAM,uBAAwBA,CAAK,CAAC,CAClE"}